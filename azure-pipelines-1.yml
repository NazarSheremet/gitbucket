
trigger:
- main

pool: Default

stages:
- stage: 
  displayName: Prebuild stage
  jobs:
  - job: Sbt_clean
    displayName: 'Clean sbt'
    steps:
    - bash: sbt clean
  - job: Sbt_update
    displayName: 'Update sbt'
    steps:
    - bash: sbt update

- stage: 
  displayName: Test stage
  jobs:
  - job: Sbt_test
    displayName: 'Test'
    steps:
    - bash: sbt test
      displayName: 'Test'

  




    # displayName: 'Running $ sbt clean'


  # - script: sbt update
  #   displayName: 'Running $ sbt update'
  # #- script: sbt test
  # #  displayName: 'Running $ sbt test'
  # - script: sbt executable
  #   displayName: 'Running $ sbt executable'



# steps:
# - script: echo Hello, world!
#   displayName: 'Run a one-line script'

# - script: |
#     echo Add other tasks to build, test, and deploy your project.
#     echo See https://aka.ms/yaml
#   displayName: 'Run a multi-line script'
